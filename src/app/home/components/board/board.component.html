<main id="boardMain">
  <div class="bord-header">
    <h1>Board</h1>
    <div>
      <div class="input-wrapper">
        <input oninput="searchTask()" placeholder="Find Task" type="text" />
        <div>
          <img src="./assets/img/icons/magnifying-glass.svg" alt="search" />
        </div>
      </div>

      <app-button-with-icon
        [content]="'Add Task'"
        [imgSrc]="'./assets/img/icons/add-task-icon.svg'"
        [colorStyle]="'main-color-style'"
      ></app-button-with-icon>
    </div>
  </div>
  <section class="drag-and-drop-container">
    <div class="drag-and-drop-row">
      <div class="drag-and-drop-header">
        <span>To do</span>
        <div onclick="openAddTaskOverlay('to-do')">
          <img
            src="./assets/img/icons/add-task-main-color-icon.svg"
            alt="add-task-icon"
          />
        </div>
      </div>
      <div
        id="to-do-area"
        (drop)="moveTo('todo')"
        (dragleave)="toggleDropareaHoverEffect('to-do-area', 'remove')"
        (dragover)="allowDrop($event, 'to-do-area')"
        class="drag-area"
      >
        @for (task of todoTasks; track $index) {
        <app-task
          draggable="true"
          (dragstart)="startDragging(task)"
          [task]="task"
        ></app-task>
        }
      </div>
    </div>

    <div class="drag-and-drop-row">
      <div class="drag-and-drop-header">
        <span>In progress</span>
        <div onclick="openAddTaskOverlay('in-progress')">
          <img
            src="./assets/img/icons/add-task-main-color-icon.svg"
            alt="add-task-icon"
          />
        </div>
      </div>
      <div
        id="in-progress-area"
        (drop)="moveTo('in-progress')"
        (dragleave)="toggleDropareaHoverEffect('in-progress-area', 'remove')"
        (dragover)="allowDrop($event, 'in-progress-area')"
        class="drag-area"
      >
        @for (task of inProgressTasks; track $index) {
        <app-task
          draggable="true"
          (dragstart)="startDragging(task)"
          [task]="task"
        ></app-task>
        }
      </div>
    </div>

    <div class="drag-and-drop-row">
      <div class="drag-and-drop-header">
        <span>Awaiting Feedback</span>
        <div onclick="openAddTaskOverlay('awaiting-feedback')">
          <img
            src="./assets/img/icons/add-task-main-color-icon.svg"
            alt="add-task-icon"
          />
        </div>
      </div>
      <div
        id="awaiting-feedback-area"
        (dragleave)="
          toggleDropareaHoverEffect('awaiting-feedback-area', 'remove')
        "
        (drop)="moveTo('awaiting-feedback')"
        (dragover)="allowDrop($event, 'awaiting-feedback-area')"
        class="drag-area"
      >
        @for (task of awaitingFeedbackTasks; track $index) {
        <app-task
          draggable="true"
          (dragstart)="startDragging(task)"
          [task]="task"
        ></app-task>
        }
      </div>
    </div>

    <div class="drag-and-drop-row">
      <div class="drag-and-drop-header">
        <span>Done</span>
        <div onclick="openAddTaskOverlay('done')">
          <img
            src="./assets/img/icons/add-task-main-color-icon.svg"
            alt="add-task-icon"
          />
        </div>
      </div>
      <div
        id="done-area"
        (dragleave)="toggleDropareaHoverEffect('done-area', 'remove')"
        (drop)="moveTo('done')"
        (dragover)="allowDrop($event, 'done-area')"
        class="drag-area"
      >
        @for (task of doneTasks; track $index) {
        <app-task
          draggable="true"
          (dragstart)="startDragging(task)"
          [task]="task"
        ></app-task>
        }
      </div>
    </div>
  </section>
</main>
